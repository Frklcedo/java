package banco;

import java.util.Scanner;

import conta.Conta;

public class Banco {

	public static void main(String[] args) {
		
		
		Scanner Enter = new Scanner(System.in);
		Conta Account = new Conta();	
		Conta Account1 = new Conta();		
		int n = 1, m;
		double iniDepos;
		do {
			System.out.println("Digite a operação desejada");
			System.out.println("1- Criar conta");
			System.out.println("2- Ativar conta");
			System.out.println("3- Fechar conta");
			System.out.println("4- Entrar em conta");
			System.out.println("0- Finalizar operação");
			n = Enter.nextInt();
			switch(n) {
			
			case 1: if(!Account.getContaAtiva() && !Account.getContaCriada()) {
						
						System.out.println("Digite o nome usuário da conta");
						Enter.nextLine();
						Account.setNomeDaConta(Enter.nextLine());
						System.out.println("Digite o número da conta");
						Account.setNumDaConta(Enter.nextInt());
						System.out.println("Digite seu depósito inicial");
						iniDepos = Enter.nextDouble();
						Account.setSaldo(iniDepos);
						do {	
							if(iniDepos<0) {
								System.out.println("Valor inválido");
							}
							else {
								if(iniDepos<=500) {
									Account.setLimite(500);	
								}
								else {
									Account.setLimite(500 + iniDepos*0.2);	
								}
							}
						}
						while(iniDepos<0);
						Account.abrirConta();
						Account.setContaCriada();
						System.out.println();
					}
				else {
					
					if(!Account1.getContaAtiva() && !Account1.getContaCriada()) {
						System.out.println("Digite o nome usuário da conta");
						Enter.nextLine();
						Account1.setNomeDaConta(Enter.nextLine());
						System.out.println("Digite o número da conta");
						Account1.setNumDaConta(Enter.nextInt());
						System.out.println("Digite seu depósito inicial");
						iniDepos = Enter.nextDouble();
						Account1.setSaldo(iniDepos);
						do {	
							if(iniDepos<0) {
								System.out.println("Valor inválido");
							}
							else {
								if(iniDepos<=500) {
									Account1.setLimite(500);	
								}
								else {
									Account1.setLimite(500 + iniDepos*0.2);	
								}
							}
						}
						while(iniDepos<0);
						Account1.abrirConta();
						Account1.setContaCriada();
						System.out.println();
						
					}
					else {
						
						System.out.println("Limite máximo de contas excedidas");
						System.out.println();
						
					}
				}
				break;
				
			case 2: if(!Account.getContaAtiva() || !Account1.getContaAtiva()) {
						if(!Account.getContaAtiva() && Account.getContaCriada()) {
							System.out.println("1- Ativar conta de " + Account.getNomeDaConta());
						}
						if(!Account1.getContaAtiva() && Account1.getContaCriada()) {
							System.out.println("2- Ativar conta de " + Account1.getNomeDaConta());
						}
						System.out.println("OUTRO NÚMERO - Cancelar ativação de conta");
						m = Enter.nextInt();
						if(!Account.getContaAtiva() && Account.getContaCriada() && m == 1) {
							Account.abrirConta();
						}
						else {
							if(!Account1.getContaAtiva() && Account1.getContaCriada() && m == 2) {
								Account1.abrirConta();
							}
						}
					}
					else {
						System.out.println("Contas já ativas ou inexistentes");
					}
					break;
			
			case 3: if(Account.getContaAtiva() || Account1.getContaAtiva()) {
						if(Account.getContaAtiva() && Account.getContaCriada()) {
							System.out.println("1- Fechar conta de " + Account.getNomeDaConta());
						}
						if(Account1.getContaAtiva() && Account1.getContaCriada()) {
							System.out.println("2- Ativar conta de " + Account1.getNomeDaConta());
						}
						System.out.println("0 - Cancelar ativação de conta");
						m = Enter.nextInt();
						if(Account.getContaAtiva() && Account.getContaCriada() && m == 1) {
							Account.fecharConta();
						}
						else {
							if(Account1.getContaAtiva() && Account1.getContaCriada() && m == 2) {
								Account1.fecharConta();
							}
						}
					}
					else {
						System.out.println("Contas já fechadas ou inexistentes");
					}
					break;
					
			case 4: if(Account.getContaAtiva() || Account1.getContaAtiva()) {
						if(Account.getContaAtiva() && Account.getContaCriada()) {
							System.out.println("1- " + Account.getNomeDaConta());
						}
						if(Account1.getContaAtiva() && Account1.getContaCriada()) {
							System.out.println("2- " + Account1.getNomeDaConta());
						}
						System.out.println("0 - Cancelar login em conta");
						
						m = Enter.nextInt();
						
					}
					else {
						System.out.println("Não há contas ativas no momento");
					}
				
			case 0: System.out.println("Operação finalizada");	break;
			default: System.out.println("Operação inválida");
			}
		}
		while(n != 0);
	}

}
